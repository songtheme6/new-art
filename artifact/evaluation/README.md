# Reproducing our Experimental Evaluation
The following document outlines the steps to reproduce all results from the paper accepted to IEEE S&P and the full version posted on [eprint](https://eprint.iacr.org/2025/1352).

## Building the Project
Note to install the dependencies specificed in the parent directory before proceeding.
Also, run `cargo build --release` to ensure correct build of the project.
For reproducing tables from the paper you will need to install the necessary python requirements.
```
    virtualenv .venv
    . .venv/bin/activate
    pip install -r requirements.txt
```

## Infrastructure and Runtime
All experiments were run on a machine with the following specifications:
- Intel Xeon CPU @ 2.6 GHz
- 512 GB RAM
- Ubuntu 22.04 LTS
To reproduce the results, we recommend an r6i.16xlarge instance on AWS EC2.

The total execution time for all experiments is multiple days.
All scripts can however be terminated earlier to achieve partial results.

## Evaluating InsPIRe

To generate the evaluation data of InsPIRe in the paper, run the following:
```
./run-inspire_0.sh
./run-inspire-squared.sh # Full version only
./run-inspire.sh
```
which produces the results in `results/inspire_0`, `results/inspire_squared` (Full version only), and `results/inspire`.
This data will validate our claim about the performance of InsPIRe in all tables in the paper.

## InsPIRe for applications
To simulate the use of InsPIRe in applications, run the following:
```
./run-application-experiments.sh
```
which produces the results in `results/application-experiments`.


## Visualizing Results

To summarize the results from all protocols in one table, run the following:
```
python visualize_all.py
```

To generate the protocol-specific tables, run the following:
```
python visualize_pir.py
python visualize_inspire_squared.py # Full version only
python visualize_inspire.py
```

These results will validate our claim about the performance of InsPIRe in all tables in the paper.

## Benchmarking InspiRING

Run the following to generate the requires logs
```
cargo run --release --bin pack
```
then run the following to generate plots
```
python visualize_packing.py
```

## Related Work
The data for the related work can be generated by following the instructions below.
Note that each project may require additional dependencies to be installed.

### YPIR

```
git clone https://github.com/menonsamir/ypir.git
cd ypir
cargo run --release -- 1073741824
cd ..
./run-ypir.sh
```

### Hintless PIR

```
git clone git@github.com:RasoulAM/hintless_pir-clone.git
cd hintless_pir-clone
sudo apt install bazel-bootstrap
sudo curl -L https://github.com/bazelbuild/bazelisk/releases/latest/download/bazelisk-linux-amd64 -o /usr/local/bin/bazel
sudo chmod +x /usr/local/bin/bazel
export USE_BAZEL_VERSION=7.1.2
bazel test //...
bazel build //hintless_simplepir:hintless_simplepir_benchmarks
cd ..
./run-hintlesspir.sh
```

To generate logs in the same format as the other schemes, update the text of the script then run it:
```
python parse_hintlesspir.py
```

### KSPIR

Clone the following repository:
```
git clone git@github.com:RasoulAM/kspir-clone.git
```
and build the project using the instructions in the repository.
Then run the following script to generate the logs:
```
./run-kspir.sh
```

To generate logs in the same format as the other schemes, update the text of the script then run it:
```
python parse_kspir.py
```

## Citation

@INPROCEEDINGS{inspire2026,
  author={Akhavan Mahdavi, Rasoul and Patel, Sarvar and Seo, Joon Young and Yeo, Kevin},
  booktitle={2026 IEEE Symposium on Security and Privacy (SP)}, 
  title={InsPIRe: Communication-Efficient PIR with Server-side Preprocessing}, 
  year={2026},
  volume={},
  number={},
  pages={},
  keywords={},
  doi={}
}
